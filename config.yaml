singleuser:
  defaultUrl: "/lab"

proxy:
  service:
    type: NodePort
    nodePorts:
      http: 31258

hub:
  config:
    GenericOAuthenticator:
      client_id: 615fb0b790f4d11722114a2e.ruc
      client_secret: TRq-U7ysS9uempUwjzlMOoa20qROLjeFg48qakdsHB0
      oauth_callback_url: http://10.77.80.242:31258/hub/oauth_callback
      authorize_url: https://v.ruc.edu.cn/oauth2/authorize
      token_url: https://v.ruc.edu.cn/oauth2/token
      userdata_url: https://v.ruc.edu.cn/apis/oauth2/v1/user
      scope:
        - profile
      username_key: uid
      login_service: RUC Account
    JupyterHub:
      authenticator_class: generic-oauth

  # clone custom JupyterHub templates into a volume
  initContainers:
    - name: git-clone-templates
      image: alpine/git
      args:
        - clone
        - --single-branch
        - --branch=k8s
        - --depth=1
        - --
        # - https://github.com/berkeley-dsep-infra/datahub-homepage
        - https://github.com/zsy-98/datahub-homepage
        - /etc/jupyterhub/custom
      securityContext:
        runAsUser: 0
      volumeMounts:
        - name: custom-templates
          mountPath: /etc/jupyterhub/custom
  extraVolumes:
    - name: custom-templates
      emptyDir: {}
  extraVolumeMounts:
    - name: custom-templates
      mountPath: /etc/jupyterhub/custom
  extraConfig:
    templates: |
      c.JupyterHub.template_paths = ['/etc/jupyterhub/custom/templates']
